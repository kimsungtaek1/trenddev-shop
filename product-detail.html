<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ìƒí’ˆ ìƒì„¸ - TrendDev Shop</title>
  <meta name="description" content="TrendDev Shop ìƒí’ˆ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•˜ê³  ì¿ íŒ¡ì—ì„œ êµ¬ë§¤í•˜ì„¸ìš”.">
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- Header -->
  <header class="site-header">
    <div class="container header-inner">
      <a href="index.html" class="logo">Trend<span>Dev</span> Shop</a>
      <nav class="main-nav">
        <ul class="nav-links">
          <li><a href="index.html">í™ˆ</a></li>
          <li><a href="products.html">ì „ì²´ ìƒí’ˆ</a></li>
          <li><a href="products.html?category=electronics">ì „ìê¸°ê¸°</a></li>
          <li><a href="products.html?category=fashion">íŒ¨ì…˜</a></li>
          <li><a href="products.html?category=living">ìƒí™œìš©í’ˆ</a></li>
          <li><a href="products.html?category=health">ê±´ê°•/ì‹í’ˆ</a></li>
        </ul>
        <form class="search-form" action="products.html" method="get">
          <input type="text" name="search" class="search-input" placeholder="ìƒí’ˆ ê²€ìƒ‰...">
          <button type="submit" class="search-btn">ğŸ”</button>
        </form>
        <button class="mobile-menu-btn" aria-label="ë©”ë‰´ ì—´ê¸°">
          <span></span><span></span><span></span>
        </button>
      </nav>
    </div>
  </header>

  <!-- Breadcrumb -->
  <div class="breadcrumb">
    <div class="container">
      <a href="index.html">í™ˆ</a>
      <span>â€º</span>
      <a href="products.html">ì „ì²´ ìƒí’ˆ</a>
      <span>â€º</span>
      <a href="#" id="breadcrumbCategory">ì¹´í…Œê³ ë¦¬</a>
      <span>â€º</span>
      <strong id="breadcrumbProduct">ìƒí’ˆëª…</strong>
    </div>
  </div>

  <!-- Product Detail -->
  <section class="product-detail">
    <div class="container">
      <div class="product-detail-grid" id="productDetail">
        <!-- JSë¡œ ë Œë”ë§ -->
      </div>
    </div>
  </section>

  <!-- Related Products -->
  <section class="related-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">ê´€ë ¨ ìƒí’ˆ ì¶”ì²œ</h2>
        <a href="products.html" class="section-link">ë” ë³´ê¸° â†’</a>
      </div>
      <div class="product-grid" id="relatedProducts"></div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-brand">
          <div class="logo">Trend<span>Dev</span> Shop</div>
          <p>TrendDev Shopì€ íŠ¸ë Œë””í•œ ìƒí’ˆë“¤ì„ ì—„ì„ í•˜ì—¬ ì†Œê°œí•˜ëŠ” ì‡¼í•‘ íë ˆì´ì…˜ ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤.</p>
        </div>
        <div class="footer-col">
          <h4>ì¹´í…Œê³ ë¦¬</h4>
          <ul>
            <li><a href="products.html?category=electronics">ì „ìê¸°ê¸°</a></li>
            <li><a href="products.html?category=fashion">íŒ¨ì…˜</a></li>
            <li><a href="products.html?category=living">ìƒí™œìš©í’ˆ</a></li>
            <li><a href="products.html?category=health">ê±´ê°•/ì‹í’ˆ</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>ë°”ë¡œê°€ê¸°</h4>
          <ul>
            <li><a href="index.html">í™ˆ</a></li>
            <li><a href="products.html">ì „ì²´ ìƒí’ˆ</a></li>
            <li><a href="products.html?sort=discount">í• ì¸ ìƒí’ˆ</a></li>
            <li><a href="products.html?sort=review">ì¸ê¸° ìƒí’ˆ</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>ê³ ê° ì§€ì›</h4>
          <ul>
            <li><a href="#">ìì£¼ ë¬»ëŠ” ì§ˆë¬¸</a></li>
            <li><a href="#">ì´ìš© ì•ˆë‚´</a></li>
            <li><a href="#">ì œíœ´ ë¬¸ì˜</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2026 TrendDev Shop. All rights reserved.</p>
        <p class="footer-disclaimer">ì´ ì‚¬ì´íŠ¸ì˜ ìƒí’ˆ ë§í¬ë¥¼ í†µí•´ êµ¬ë§¤ ì‹œ, íŒŒíŠ¸ë„ˆìŠ¤ í™œë™ì˜ ì¼í™˜ìœ¼ë¡œ ì¼ì •ì•¡ì˜ ìˆ˜ìˆ˜ë£Œë¥¼ ì œê³µë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
      </div>
    </div>
  </footer>

  <script src="js/products.js"></script>
  <script src="js/app.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var productId = getUrlParam("id");
      var product = getProductById(productId);

      if (!product) {
        document.getElementById("productDetail").innerHTML =
          '<div class="no-results"><h3>ìƒí’ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h3><p><a href="products.html" class="btn btn-primary">ìƒí’ˆ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a></p></div>';
        return;
      }

      // í˜ì´ì§€ íƒ€ì´í‹€ ì—…ë°ì´íŠ¸
      document.title = product.name + " - TrendDev Shop";

      // ë¸Œë ˆë“œí¬ëŸ¼ ì—…ë°ì´íŠ¸
      var catInfo = categories[product.category];
      var breadcrumbCat = document.getElementById("breadcrumbCategory");
      breadcrumbCat.textContent = catInfo.name;
      breadcrumbCat.href = "products.html?category=" + product.category;
      document.getElementById("breadcrumbProduct").textContent = product.name;

      // í• ì¸ìœ¨
      var discount = getDiscountRate(product.price, product.originalPrice);

      // ìƒì„¸ í˜ì´ì§€ ë Œë”ë§
      document.getElementById("productDetail").innerHTML =
        '<div class="detail-gallery">' +
          '<div class="detail-main-image">' +
            '<img src="' + product.image + '" alt="' + product.name + '">' +
          '</div>' +
        '</div>' +
        '<div class="detail-info">' +
          '<div class="detail-category">' + catInfo.icon + ' ' + catInfo.name + '</div>' +
          '<h1 class="detail-name">' + product.name + '</h1>' +
          '<div class="detail-rating">' +
            renderStars(product.rating) +
            '<span class="rating-text">' + product.rating + ' / 5.0 (' + product.reviewCount.toLocaleString() + 'ê°œ ë¦¬ë·°)</span>' +
          '</div>' +
          '<div class="detail-price-box">' +
            (discount > 0 ? '<span class="detail-original-price">' + formatPrice(product.originalPrice) + '</span>' : '') +
            '<span class="detail-discount">' + discount + '%</span>' +
            '<span class="detail-current-price">' + formatPrice(product.price) + '</span>' +
          '</div>' +
          '<div class="detail-tags">' +
            product.tags.map(function (tag) { return '<span class="detail-tag">' + tag + '</span>'; }).join('') +
          '</div>' +
          '<p class="detail-description">' + product.description + '</p>' +
          '<div class="detail-actions">' +
            '<a href="' + product.coupangUrl + '" target="_blank" rel="noopener noreferrer" class="btn-coupang-large">' +
              'ğŸ›’ ì¿ íŒ¡ì—ì„œ êµ¬ë§¤í•˜ê¸°' +
            '</a>' +
            '<a href="products.html" class="btn-back">â† ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>' +
          '</div>' +
        '</div>';

      // ê´€ë ¨ ìƒí’ˆ (ê°™ì€ ì¹´í…Œê³ ë¦¬, ìì‹  ì œì™¸, ìµœëŒ€ 4ê°œ)
      var related = products
        .filter(function (p) { return p.category === product.category && p.id !== product.id; })
        .slice(0, 4);

      // ê°™ì€ ì¹´í…Œê³ ë¦¬ê°€ ë¶€ì¡±í•˜ë©´ ë‹¤ë¥¸ ì¹´í…Œê³ ë¦¬ì—ì„œ ì±„ì›€
      if (related.length < 4) {
        var others = products
          .filter(function (p) { return p.id !== product.id && p.category !== product.category; })
          .slice(0, 4 - related.length);
        related = related.concat(others);
      }

      renderProducts(related, "relatedProducts");
    });
  </script>

</body>
</html>
